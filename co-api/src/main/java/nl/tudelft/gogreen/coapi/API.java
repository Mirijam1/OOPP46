package nl.tudelft.gogreen.coapi;

import com.fasterxml.jackson.core.type.TypeReference;
import com.fasterxml.jackson.databind.JsonNode;
import com.fasterxml.jackson.databind.ObjectMapper;
import nl.tudelft.gogreen.coapi.config.Endpoints;
import org.springframework.http.HttpHeaders;
import org.springframework.http.MediaType;
import org.springframework.util.LinkedMultiValueMap;
import org.springframework.util.MultiValueMap;

import java.io.IOException;
import java.util.Map;

public class API {
    public static MultiValueMap<String, String> params = new LinkedMultiValueMap<>();


    public static HttpHeaders createHttpHeaders() {
        HttpHeaders headers = new HttpHeaders();
        headers.setContentType(MediaType.APPLICATION_JSON);
        return headers;
    }

    public static Map<Object, Object> initModelBuilder(String json) throws IOException {
        ObjectMapper objectMapper = new ObjectMapper();
        JsonNode jsonNode = objectMapper.readTree(json);
        Map<Object, Object> map
            = objectMapper.readValue(json, new TypeReference<Map<Object, Object>>() {
        });
        return map;
    }

//    public static MultiValueMap<String, String> createURLparams() {
//        String url = "https://apis.berkeley.edu/coolclimate/footprint?input_location=10001&input_location_mode=1&input_size=0&input_income=1&input_population=17007&input_footprint_household_adults=2.5&input_footprint_household_children=0&input_footprint_transportation_num_vehicles=2&input_footprint_transportation_miles1=2700&input_footprint_transportation_mpg1=22&input_footprint_transportation_fuel1=1&input_footprint_transportation_miles2=2200&input_footprint_transportation_mpg2=22&input_footprint_transportation_fuel2=1&input_footprint_transportation_miles3=0&input_footprint_transportation_mpg3=22&input_footprint_transportation_fuel3=1&input_footprint_transportation_miles4=0&input_footprint_transportation_mpg4=22&input_footprint_transportation_fuel4=1&input_footprint_transportation_miles5=0&input_footprint_transportation_mpg5=22&input_footprint_transportation_fuel5=1&input_footprint_transportation_miles6=0&input_footprint_transportation_mpg6=22&input_footprint_transportation_fuel6=1&input_footprint_transportation_miles7=0&input_footprint_transportation_mpg7=22&input_footprint_transportation_fuel7=1&input_footprint_transportation_miles8=0&input_footprint_transportation_mpg8=22&input_footprint_transportation_fuel8=1&input_footprint_transportation_miles9=0&input_footprint_transportation_mpg9=22&input_footprint_transportation_fuel9=1&input_footprint_transportation_miles10=0&input_footprint_transportation_mpg10=22&input_footprint_transportation_fuel10=1&input_footprint_transportation_groundtype=0&input_footprint_transportation_publictrans=433.265367&input_footprint_transportation_bus=173.306147&input_footprint_transportation_transit=129.97961&input_footprint_transportation_commuter=86.653073&input_footprint_transportation_intercity=43.326537&input_footprint_transportation_airtype=0&input_footprint_transportation_airtotal=3899.388302&input_footprint_transportation_airshort=3&input_footprint_transportation_airmedium=3&input_footprint_transportation_airlong=0&input_footprint_transportation_airextended=0&input_footprint_housing_cdd=821.853&input_footprint_housing_hdd=5373.08&input_footprint_housing_electricity_type=0&input_footprint_housing_electricity_dollars=660&input_footprint_housing_electricity_kwh=4198.473282&input_footprint_housing_cleanpercent=0&input_footprint_housing_naturalgas_type=0&input_footprint_housing_naturalgas_dollars=410&input_footprint_housing_naturalgas_therms=275.352586&input_footprint_housing_naturalgas_cuft=27535.258563&input_footprint_housing_heatingoil_type=0&input_footprint_housing_heatingoil_dollars=730&input_footprint_housing_heatingoil_gallons=243.333333&input_footprint_housing_heatingoil_dollars_per_gallon=3&input_footprint_housing_squarefeet=1854&input_footprint_housing_watersewage=381.5&input_footprint_housing_gco2_per_kwh=352&input_footprint_shopping_food_meatfisheggs_default=1357.5&input_footprint_shopping_food_meat_beefpork_default=617.5&input_footprint_shopping_food_meat_poultry_default=412.5&input_footprint_shopping_food_meat_fish_default=182.5&input_footprint_shopping_food_meat_other_default=145&input_footprint_shopping_food_dairy_default=715&input_footprint_shopping_food_fruitvegetables_default=677.5&input_footprint_shopping_food_cereals_default=1672.5&input_footprint_shopping_food_otherfood_default=1840&input_footprint_shopping_food_meattype=0&input_footprint_shopping_food_meatfisheggs=1357.5&input_footprint_shopping_food_meat_beefpork=617.5&input_footprint_shopping_food_meat_poultry=412.5&input_footprint_shopping_food_meat_fish=182.5&input_footprint_shopping_food_meat_other=145&input_footprint_shopping_food_dairy=715&input_footprint_shopping_food_fruitvegetables=677.5&input_footprint_shopping_food_cereals=1672.5&input_footprint_shopping_food_otherfood=1840&input_footprint_shopping_goods_default_furnitureappliances=291.220557&input_footprint_shopping_goods_default_clothing=240.190768&input_footprint_shopping_goods_default_other_entertainment=167.394098&input_footprint_shopping_goods_default_other_office=42.45481&input_footprint_shopping_goods_default_other_personalcare=79.074404&input_footprint_shopping_goods_default_other_autoparts=35.953039&input_footprint_shopping_goods_default_other_medical=152.907912&input_footprint_shopping_goods_type=0&input_footprint_shopping_goods_total=1009.195587&input_footprint_shopping_goods_furnitureappliances=291.220557&input_footprint_shopping_goods_clothing=240.190768&input_footprint_shopping_goods_other_type=0&input_footprint_shopping_goods_other_total=477.784262&input_footprint_shopping_goods_other_entertainment=167.394098&input_footprint_shopping_goods_other_office=42.45481&input_footprint_shopping_goods_other_personalcare=79.074404&input_footprint_shopping_goods_other_autoparts=35.953039&input_footprint_shopping_goods_other_medical=152.907912&input_footprint_shopping_services_type=0&input_footprint_shopping_services_total=1934.714641&input_footprint_shopping_services_healthcare=787.643461&input_footprint_shopping_services_education=93.136939&input_footprint_shopping_services_communications=86.034099&input_footprint_shopping_services_vehicleservices=142.772037&input_footprint_shopping_services_finance=380.578961&input_footprint_shopping_services_household=25.765584&input_footprint_shopping_services_charity=144.232256&input_footprint_shopping_services_miscservices=97.580115&input_takeaction_more_efficient_vehicle=0&input_takeaction_more_efficient_vehicle_miles_old=2700&input_takeaction_more_efficient_vehicle_mpg_old=22&input_takeaction_more_efficient_vehicle_miles_new=2700&input_takeaction_more_efficient_vehicle_mpg_new=32&input_takeaction_more_efficient_vehicle_sell=10000&input_takeaction_more_efficient_vehicle_purchase=12000&input_takeaction_telecommute_to_work=0&input_takeaction_telecommute_to_work_miles=20&input_takeaction_telecommute_to_work_days=4&input_takeaction_telecommute_to_work_mpg=22&input_takeaction_telecommute_to_work_times=2&input_takeaction_telecommute_to_work_worth=0&input_takeaction_telecommute_to_work_parking=20&input_takeaction_ride_my_bike=0&input_takeaction_ride_my_bike_mpg=22&input_takeaction_ride_my_bike_miles=20&input_takeaction_ride_my_bike_include_foodemissions=0&input_takeaction_take_public_transportation=0&input_takeaction_take_public_transportation_type=0&input_takeaction_take_public_transportation_miles=20&input_takeaction_take_public_transportation_mpg=22&input_takeaction_take_public_transportation_parking=10&input_takeaction_take_public_transportation_ptfare=10&input_takeaction_take_public_transportation_gco2bus=107&input_takeaction_take_public_transportation_gco2ngbus=78&input_takeaction_take_public_transportation_gco2transit=97.247458&input_takeaction_take_public_transportation_gco2amtrak=185&input_takeaction_practice_eco_driving=0&input_takeaction_practice_eco_driving_hwpercent=50&input_takeaction_practice_eco_driving_topspeed=70&input_takeaction_practice_eco_driving_lowerspeed=65&input_takeaction_practice_eco_driving_topspercent=50&input_takeaction_maintain_my_vehicles=0&input_takeaction_maintain_my_vehicles_tires=1&input_takeaction_maintain_my_vehicles_airfilter=1&input_takeaction_maintain_my_vehicles_tirespercent=3.3&input_takeaction_maintain_my_vehicles_filterpercent=3&input_takeaction_maintain_my_vehicles_tirescost=0&input_takeaction_maintain_my_vehicles_filtercost=0&input_takeaction_carpool_to_work=0&input_takeaction_carpool_to_work_dist=12&input_takeaction_carpool_to_work_days=3&input_takeaction_carpool_to_work_passenger=2&input_takeaction_carpool_to_work_mpgvehc=20&input_takeaction_carpool_to_work_fees=0&input_takeaction_carpool_to_work_daysper=0&input_takeaction_carpool_to_work_depvehu=2&input_takeaction_carpool_to_work_category=1&input_takeaction_carpool_to_work_mpgvehu=22&input_takeaction_reduce_air_travel=0&input_takeaction_reduce_air_travel_miles_percent=10&input_takeaction_offset_transportation=0&input_takeaction_offset_transportation_offset=20&input_takeaction_switch_to_cfl=0&input_takeaction_switch_to_cfl_cfl=5&input_takeaction_switch_to_cfl_hours=5&input_takeaction_switch_to_cfl_incanwatt=75&input_takeaction_switch_to_cfl_cflwatt=20&input_takeaction_switch_to_cfl_cflcost=2&input_takeaction_switch_to_cfl_incancost=0.75&input_takeaction_switch_to_cfl_incanlife=750&input_takeaction_switch_to_cfl_cfllife=8000&input_takeaction_thermostat_winter=0&input_takeaction_thermostat_winter_fueltype=0&input_takeaction_thermostat_winter_percentuse=1&input_takeaction_thermostat_winter_hdd=5373.08&input_takeaction_thermostat_winter_daydegrees=8&input_takeaction_thermostat_winter_nightdegrees=8&input_takeaction_thermostat_winter_wdsetup=10&input_takeaction_thermostat_winter_fueloilprice=200&input_takeaction_thermostat_winter_wdntsetup=8&input_takeaction_thermostat_winter_wesetup=10&input_takeaction_thermostat_winter_wentsetup=8&input_takeaction_thermostat_summer=0&input_takeaction_thermostat_summer_daydegrees=4&input_takeaction_thermostat_summer_nightdegrees=4&input_takeaction_thermostat_summer_cdd=821.853&input_takeaction_thermostat_summer_percentuse=1&input_takeaction_thermostat_summer_wdsetup=10&input_takeaction_thermostat_summer_wdntsetup=8&input_takeaction_thermostat_summer_wesetup=10&input_takeaction_thermostat_summer_wentsetup=8&input_takeaction_energy_star_fridge=0&input_takeaction_energy_star_fridge_fridgetype=5&input_takeaction_energy_star_fridge_fridgecost=30&input_takeaction_energy_star_fridge_fresh=14.75&input_takeaction_energy_star_fridge_freezer=6.76&input_takeaction_purchase_green_electricity=0&input_takeaction_purchase_green_electricity_percentclean=1&input_takeaction_purchase_green_electricity_costclean=20&input_takeaction_purchase_green_electricity_kwhcost=11&input_takeaction_line_dry_clothing=0&input_takeaction_line_dry_clothing_percentdry=0.5&input_takeaction_line_dry_clothing_dryerldwk=7&input_takeaction_offset_housing=0&input_takeaction_offset_housing_offset=20&input_takeaction_low_carbon_diet=0&input_takeaction_low_carbon_diet_meatfootprint=0.45&input_takeaction_low_carbon_diet_dairyfootprint=0.65&input_takeaction_low_carbon_diet_fvfootprint=1.8&input_takeaction_low_carbon_diet_cerealsfootprint=1.45&input_takeaction_low_carbon_diet_otherfootprint=0.45&input_takeaction_go_organic=0&input_takeaction_go_organic_myproduce=0.9&input_takeaction_go_organic_mymeat=0.9&input_takeaction_go_organic_mydairy=0.9&input_takeaction_go_organic_eatorgproduce=0&input_takeaction_go_organic_eatorgmeat=0&input_takeaction_go_organic_eatorgdairy=0&input_takeaction_go_organic_pledgeorgprod=0.5&input_takeaction_go_organic_pledgeorgmeat=0.5&input_takeaction_go_organic_pledgedairy=0.5&input_takeaction_go_organic_myprodcost=1.6&input_takeaction_go_organic_mymeatcost=1.6&input_takeaction_go_organic_mydairycost=1.6&input_takeaction_offset_shopping=0&input_takeaction_offset_shopping_offset=20&input_takeaction_assumption_price_of_gasoline=3&input_takeaction_assumption_kwhprice=15.72&input_takeaction_assumption_ngprice=1.489&input_takeaction_assumption_discountrate=8&input_takeaction_assumption_inflationrate=3&internal_state_abbreviation=NY&input_changed=1";
//        params =
//            UriComponentsBuilder.fromUriString(url).build().getQueryParams();
//        return params;
//    }

    public static String buildURL(String endpoint) {
        String url = Endpoints.baseURL + endpoint;
        System.out.println(url);
        return url;
    }

}
